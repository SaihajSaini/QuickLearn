"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.flattenEntry = exports.flattenTranslations = void 0;
const flattenTranslations = (translations) => {
    if (!hasNestedDefinitions(translations)) {
        return translations;
    }
    return (0, exports.flattenEntry)(translations);
};
exports.flattenTranslations = flattenTranslations;
/**
 * Top level search for any objects
 */
const hasNestedDefinitions = (translations) => {
    return Object.values(translations).find((translation) => typeof translation === 'object');
};
const isTranslationObject = (entry) => {
    return typeof entry === 'object';
};
const flattenEntry = (entry, keys = []) => {
    const result = {};
    if (!entry) {
        return result;
    }
    const entries = Object.entries(entry);
    for (const [k, v] of entries) {
        Object.assign(result, isTranslationObject(v)
            ? (0, exports.flattenEntry)(v, [...keys, String(k)])
            : { [[...keys, String(k)].join('.')]: v });
    }
    return result;
};
exports.flattenEntry = flattenEntry;
